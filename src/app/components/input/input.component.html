<materialize-label>{{ label }}</materialize-label>

<div class="form-control-container"
  tabindex="1"
  
  (blur)="onBlur($event)"
  (focus)="onFocus($event)"

  [ngClass]="className"
  [class.float-label]="floatLabel"
  [class.active]="value || placeholder"
  [class.focused]="isFocused"
  [class.disabled]="disabled"
  [class.error]="!isValid && isTouched"

  #formControlWrapper>

  <div class="form-control-prefix-container" *ngIf="materializePrefixQueryList.length">
    <ng-content select="[materializePrefix]"></ng-content>
  </div>

  <div class="form-control-wrapper">
    <div class="form-control-float-label">{{ floatLabel }}</div>

    <input class="form-control"
      (input)="onChange($event)"
      (blur)="onBlur($event)"
      (focus)="onFocus($event)"

      [autocomplete]="autocomplete"
      [disabled]="disabled"
      [attr.id]="id"
      [maxLength]="maxLength"
      [name]="name"
      [placeholder]="placeholder"
      [required]="required"
      [type]="type"
      [value]="value"

      #input
    />

    <materialize-icon className="icon-error" name="error" size="lg" *ngIf="!isValid && isTouched"></materialize-icon>
  </div>

  <div class="form-control-suffix-container" *ngIf="materializeSuffixQueryList.length">
    <ng-content select="[materializeSuffix]"></ng-content>
  </div>

</div>

<materialize-form-message type="info" *ngIf="hasCounter">{{ value.length }} / {{ maxLength }}</materialize-form-message>
<materialize-form-message type="error" *ngIf="!isValid && isTouched">{{ errorMessage }}</materialize-form-message>
